{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Overview","text":"<p>v1.0.0beta-03</p> <p>Kassaforte enables secure storage of sensitive data in Compose Multiplatform applications and on the backend by leveraging each platform\u2019s native security APIs. It further supports the generation and usage of <code>symmetric</code> and <code>asymmetric</code> keys to ensure data protection</p>"},{"location":"#roadmap-to-100","title":"Roadmap to 1.0.0","text":""},{"location":"#beta-01","title":"beta-01 \u2705","text":"<p>This release provides the <code>Kassaforte</code> API to securely store sensitive data.</p> <p>Provides also the services, symmetric and asymmetric, to generate keys and perform the <code>encryption</code> and <code>decryption</code> of the data</p>"},{"location":"#beta-02","title":"beta-02 \u2705","text":"<p>This release will provide:</p> <ul> <li><code>signing</code> and <code>verification</code> of the data</li> </ul>"},{"location":"#beta-03","title":"beta-03 \u2705","text":"<p>This release will provide:</p> <ul> <li>Adjustment under the hood and <code>JS</code> target integration and Kotlin <code>2.3.0</code></li> </ul>"},{"location":"#beta-04","title":"beta-04","text":"<p>This release will provide:</p> <ul> <li><code>wrap</code> and <code>unwrap</code> of the keys</li> <li><code>GCM</code> block mode support also on <code>apple</code> (if the <code>CommonCrypto</code> will fully supports it and will be the ported on   <code>Kotlin/Native</code>, otherwise will be integrated when will be available)</li> </ul> <p>Should be the latest <code>beta</code> version before the <code>stable</code> one</p>"},{"location":"#implementation","title":"Implementation","text":""},{"location":"#gradle-short","title":"Gradle short","text":"<pre><code>dependencies {\n  implementation 'io.github.n7ghtm4r3:kassaforte:1.0.0beta-03'\n}\n</code></pre>"},{"location":"#gradle-kotlin","title":"Gradle (Kotlin)","text":"<pre><code>dependencies {\n  implementation(\"io.github.n7ghtm4r3:kassaforte:1.0.0beta-03\")\n}\n</code></pre>"},{"location":"#gradle-version-catalog","title":"Gradle (version catalog)","text":""},{"location":"#libsversionstoml","title":"libs.versions.toml","text":"<pre><code>[versions]\nkassaforte = \"1.0.0beta-03\"\n\n[libraries]\nkassaforte = { module = \"io.github.n7ghtm4r3:kassaforte\", version.ref = \"kassaforte\" } \n</code></pre>"},{"location":"#buildgradlekts","title":"build.gradle.kts","text":"<pre><code>dependencies {\n    implementation(libs.kassaforte)\n}\n</code></pre>"},{"location":"#credits","title":"Credits","text":"<p>A big thanks to the repositories and their maintainers for developing the libraries that Kassaforte relies on to work correctly:</p> <ul> <li>java-keyring - handles the secure storage on the <code>JVM</code> target</li> <li>windpapi4j - handles (DPAPI) data protection on <code>Windows</code> to   securely store the generated keys on the <code>JVM</code> target</li> </ul>"},{"location":"#support","title":"Support","text":"<p>If you need help using the library or encounter any problems or bugs, please contact us via the following links:</p> <ul> <li>Support via email</li> <li>Support via GitHub</li> </ul> <p>Thank you for your help!</p>"},{"location":"#donations","title":"Donations","text":"<p>If you want support project and developer</p> Crypto Address Network 3H3jyCzcRmnxroHthuXh22GXXSmizin2yp Bitcoin 0x1b45bc41efeb3ed655b078f95086f25fc83345c4 Ethereum AtPjUnxYFHw3a6Si9HinQtyPTqsdbfdKX3dJ1xiDjbrL Solana <p>If you want support project and developer with PayPal</p>"},{"location":"advice/","title":"Advice","text":"<p>Following, are indicated some advice, specific for each platform, to correct and safely use Kassaforte</p>"},{"location":"advice/#android","title":"Android","text":""},{"location":"advice/#disabling-allowbackup","title":"Disabling allowBackup","text":"<p>It is highly recommended to disable the <code>allowBackup</code> property in the <code>AndroidManifest.xml</code> file to prevent sensitive data, such as the generated keys or safeguarded data, from being backed up or transferred to new devices. This can be done as follows:</p> <pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;application\n            android:allowBackup=\"false\"&gt;\n        ...\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>"},{"location":"advice/#jvm","title":"JVM","text":""},{"location":"advice/#services-adapters","title":"Services adapters","text":"<p>Kassaforte provides adapters for <code>symmetric</code> and <code>asymmetric</code> services, allowing them to be used directly in a JVM environment, including <code>Android</code>, without boilerplate or tricky suspend handling, below some usage examples from a <code>Java</code> class</p>"},{"location":"advice/#symmetric","title":"symmetric","text":"<p>Adapter name: <code>KassaforteSymmetricServiceJvm</code></p> <pre><code>public class KassaforteServiceWrapper {\n\n    public void storeUserEmail(String email) {\n        KassaforteSymmetricServiceJvm.encrypt(\n                \"keyAlias\",\n                BlockMode.CBC,\n                EncryptionPadding.PKCS7,\n                email\n        );\n    }\n\n}\n</code></pre>"},{"location":"advice/#asymmetric","title":"asymmetric","text":"<p>Adapter name: <code>KassaforteAsymmetricServiceJvm</code></p> <pre><code>public class KassaforteServiceWrapper {\n\n    public void storeUserEmail(String email) {\n        KassaforteAsymmetricServiceJvm.encrypt(\n                \"keyAlias\",\n                EncryptionPadding.RSA_OAEP,\n                Digest.SHA256,\n                email\n        );\n    }\n\n}\n</code></pre> <p>Note</p> <p>The adapters support all the operations provided by the services, as they are mapped <code>1:1</code> to the service they wrap</p>"},{"location":"secure_storage/","title":"Secure Storage","text":"<p>The secure storage of sensitive data in Compose Multiplatform applications and on the backend by leveraging each platform\u2019s native security APIs is provided by Kassaforte</p>"},{"location":"secure_storage/#architecture","title":"Architecture","text":"<ul> <li>On <code>Android</code> the data are stored in   the SharedPreferences, encrypting the   data before storing it</li> <li>On <code>iOS</code> and native <code>macOS</code> the data are stored in   the Keychain</li> <li>On <code>JVM</code> to store the data are leveraged the native APIs provided by the different OSs:<ul> <li>On <code>Windows</code> the data are stored in   the Windows Credentials</li> <li>On <code>Linux</code> the data are stored using the implementation of   the DBus Secret Service based   on the desktop environment between   <code>GNOME</code> or <code>KDE</code></li> <li>On<code>MacOs</code> the data are stored in   the Keychain</li> </ul> </li> </ul> <p>This target uses the java-keyring library under the hood</p> <ul> <li>On <code>Web</code> the data are stored in   the LocalStorage, encrypting the data before   storing it</li> </ul>"},{"location":"secure_storage/#usage","title":"Usage","text":""},{"location":"secure_storage/#create-an-instance","title":"Create an instance","text":"<pre><code>val kassaforte = Kassaforte(\n    name = \"YourApplicationName\" // suggested name\n)\n</code></pre>"},{"location":"secure_storage/#sync-methods","title":"Sync methods","text":""},{"location":"secure_storage/#safeguard","title":"safeguard","text":"<p>This method securely store sensitive data</p> <pre><code>kassaforte.safeguard(\n    key = \"keyToRepresentData\",\n    data = // sensitive data to safeguard\n)\n</code></pre>"},{"location":"secure_storage/#refresh","title":"refresh","text":"<p>This method refresh sensitive data previously safeguarded</p> <pre><code>kassaforte.refresh(\n    key = \"keyToRepresentData\",\n    data = // sensitive refreshed data to safeguard\n)\n</code></pre>"},{"location":"secure_storage/#remove","title":"remove","text":"<p>This method remove from the secure storage sensitive data previously safeguarded</p> <pre><code>kassaforte.remove(\n    key = \"keyToRepresentData\"\n)\n</code></pre>"},{"location":"secure_storage/#async-methods","title":"Async methods","text":"<p>The following methods required to be executed inside a <code>Coroutine</code></p>"},{"location":"secure_storage/#withdraw","title":"withdraw","text":"<p>This method withdraw from the secure storage sensitive data previously safeguarded decrypting it</p> <pre><code>val scope = MainScope()\nscope.launch {\n    val safeguardedData: String = kassaforte.withdraw(\n        key = \"keyToRepresentData\"\n    )\n\n    println(safeguardedData)\n}\n</code></pre>"},{"location":"services/","title":"Overview","text":"<p>The services provide generation, maintenance and usage of symmetric and asymmetric keys to ensure data protection.</p> <p>The following properties allow to correct generate and to use the keys</p>"},{"location":"services/#keysize","title":"KeySize","text":"<p>Enum containing the available sizes to generate a key</p> Name Length Algorithm <code>S128</code> 128 bits Widely used with <code>AES</code> <code>S192</code> 192 bits Widely used with <code>AES</code> <code>S224</code> 224 bits Widely used with <code>EC</code> <code>S256</code> 256 bits Widely used with <code>AES</code> <code>S384</code> 384 bits Widely used with <code>EC</code> <code>S512</code> 512 bits Widely used with <code>AES</code> <code>S521</code> 521 bits Widely used with <code>EC</code> <code>S1024</code> 1024 bits Widely used with <code>RSA</code> <code>S2048</code> 2048 bits Widely used with <code>RSA</code> <code>S4096</code> 4096 bits Widely used with <code>RSA</code>"},{"location":"services/#encryptionpadding","title":"EncryptionPadding","text":"<p>Enum containing the available paddings to apply with the keys to protect the data</p> Name Padding Workflow Algorithm <code>NONE</code> <code>NoPadding</code> No padding is applied <code>AES</code>, <code>EC</code> <code>PKCS7</code> <code>PKCS7Padding</code> Padding scheme used with block ciphers, it fills the last block with bytes all set to the value of the number of padding bytes <code>AES</code> <code>RSA_PKCS1</code> <code>PKCS1Padding</code> Padding scheme defined in <code>PKCS#1</code>, is less secure compared to <code>RSA_OAEP</code> <code>RSA</code> <code>RSA_OAEP</code> <code>OAEPPadding</code> Optimal Asymmetric Encryption Padding, provides better security than <code>RSA_PKCS1</code> by incorporating randomness and a hash function <code>RSA</code>"},{"location":"services/#digest","title":"Digest","text":"<p>Enum containing the available digest to use with the keys to protect the data</p> Name Algorithm Purposes <code>NONE</code> <code>NONE</code> No digest is applied, data is left un-hashed <code>MD5</code> <code>MD5</code> Produces a <code>128-bit</code> hash, historically used for checksums and signatures, but insecure <code>SHA1</code> <code>SHA-1</code> Produces a <code>160-bit</code> hash, used for data integrity and digital signatures, but vulnerable to collisions <code>SHA224</code> <code>SHA-224</code> Produces a <code>224-bit</code> hash, used for secure hashing where shorter output is sufficient <code>SHA256</code> <code>SHA-256</code> Produces a <code>256-bit</code> hash, widely used for integrity checks and digital signatures <code>SHA384</code> <code>SHA-384</code> Produces a <code>384-bit</code> hash, used for high-security integrity verification <code>SHA512</code> <code>SHA-512</code> Produces a <code>512-bit</code> hash, used for maximum security in hashing and digital signatures <p>Warning</p> <p>The usage of <code>SHA1</code> and <code>MD5</code> is discouraged due to known collision vulnerabilities and they are considered obsolete.  However, for compatibility, they are retained in this version but may be removed in the stable release</p>"},{"location":"services/asymmetric/","title":"Asymmetric Service","text":""},{"location":"services/asymmetric/#supported-algorithms","title":"Supported algorithms","text":"<p>The supported asymmetric algorithms to generate and then use the keys are the following:</p> <ul> <li><code>RSA</code> asymmetric encryption algorithm based on the hardness of factoring large integers. Are supported two padding   modes:<ul> <li><code>PKCS#1</code> RSA signature scheme with <code>PKCS#1 v1.5 padding</code> (on the web just signing and verifying only)</li> <li><code>RSA_OAEP</code> RSA encryption using OAEP padding</li> </ul> </li> <li><code>EC</code> asymmetric algorithm based on elliptic curve cryptography (ECC),   commonly used for digital signatures (ECDSA) and key exchange (ECDH, unsupported at the moment)</li> </ul>"},{"location":"services/asymmetric/#architecture","title":"Architecture","text":""},{"location":"services/asymmetric/#android","title":"Android","text":"<p>The keys are generated with the KeyPairGenerator API and securely stored inside the Keystore provided by Android. The keys are used by the Cipher to encrypt or decrypt the data</p>"},{"location":"services/asymmetric/#apple","title":"Apple","text":"<p>The keys are generated with the SecKeyCreateRandomKey API and securely stored inside the Keychain provided by iOS and macOS operating systems. The keys are used by security methods provided by Apple to encrypt or decrypt the data</p>"},{"location":"services/asymmetric/#jvm","title":"JVM","text":"<p>Like on <code>Android</code> the keys are generated with the KeyPairGenerator API, but the keys are securely stored using the java-keyring library. The keys are used by the Cipher to encrypt or decrypt the data</p>"},{"location":"services/asymmetric/#web","title":"Web","text":"<p>The keys are generated with the SubtleCrypto API and securely stored into application's IndexedDB. The keys are used by the <code>SubtleCrypto</code> to encrypt or decrypt the data</p>"},{"location":"services/asymmetric/#usage","title":"Usage","text":""},{"location":"services/asymmetric/#generate-new-key","title":"Generate new key","text":""},{"location":"services/asymmetric/#creating-gen-spec","title":"Creating Gen Spec","text":"<p>Following the below compatibility table you can create a new asymmetric key:</p> Algorithm Key size Encryption padding Digest <code>RSA</code> <code>S1024</code>, <code>S2048</code>, <code>S4096</code> <code>RSA_PKCS1</code>, <code>RSA_OAEP</code> <code>SHA1</code>, <code>SHA224</code>, <code>SHA256</code>, <code>SHA384</code>, <code>SHA512</code> <code>EC</code> <code>S128</code>, <code>S192</code>, <code>S224</code>, <code>S256</code>, <code>S384</code>, <code>S521</code> <code>NONE</code> <code>SHA1</code>, <code>SHA224</code>, <code>SHA256</code>, <code>SHA384</code>, <code>SHA512</code> <p>Warning</p> <p>The use of <code>SHA1</code> is discouraged due to known collision vulnerabilities and is considered obsolete.  However, on some Android devices, it may still be required due to hardware compatibility or limitations imposed by  the platform. If the device does not support, for example, <code>SHA256</code>, <code>SHA1</code> will be automatically used instead</p> <pre><code>val keyGenSpec = AsymmetricKeyGenSpec(\n    keySize = KeySize.S4096,\n    encryptionPadding = EncryptionPadding.RSA_OAEP, // not to sign or verify\n    digest = Digest.SHA256\n)\n</code></pre>"},{"location":"services/asymmetric/#declaring-the-purposes-of-the-key","title":"Declaring the purposes of the key","text":"<p>Following the below compatibility table you can assign the purposes to the generating key:</p> Algorithm Encryption padding Purposes <code>RSA</code> <code>RSA_OAEP</code> <code>canEncrypt</code>, <code>canDecrypt</code> <code>RSA</code> <code>RSA_PKCS1</code> <code>canEncrypt</code>, <code>canDecrypt</code>, <code>canSign</code>, <code>canVerify</code> <code>EC</code> <code>NONE</code> <code>canSign</code>, <code>canVerify</code> <p>Warning</p> <p>If your project targets the <code>Web</code>, keep in mind that <code>RSA_PKCS1</code> can only be used for <code>signing</code> and <code>verifying</code>,  without the <code>canEncrypt</code> and <code>canDecrypt</code> purposes. For <code>encryption</code> and <code>decryption</code>, use <code>RSA_OAEP</code> instead</p> <p>The generating key will be used just for the specified purposes, when a purpose had not been assigned will be thrown an exception</p> <pre><code>val purposes = KeyPurposes(\n    canEncrypt = true,\n    canDecrypt = true,\n    -- and / or --\n    canSign = true,\n    canVerify = true\n)\n</code></pre>"},{"location":"services/asymmetric/#generate-the-key","title":"Generate the key","text":"<pre><code>KassaforteAsymmetricService.generateKey(\n    alias = \"toIdentifyTheKey\",\n    algorithm = Algorithm.RSA,\n    keyGenSpec = keyGenSpec,\n    purposes = purposes\n)\n</code></pre> <p>The generated key or key pair will be automatically securely stored by the library</p>"},{"location":"services/asymmetric/#use-the-key","title":"Use the key","text":"<p>The methods which use the key must be executed inside a <code>Coroutine</code></p>"},{"location":"services/asymmetric/#encrypt","title":"Encrypt","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to encrypt\n    val dataToEncrypt = \"PLAINTEXT\"\n\n    // encrypt the data \n    val encryptedData = KassaforteAsymmetricService.encrypt(\n        alias = \"toIdentifyTheKey\",\n        padding = EncryptionPadding.RSA_OAEP,\n        digest = Digest.SHA256,\n        data = dataToDecrypt\n    )\n\n    println(encryptedData)\n}\n</code></pre> <p>Info</p> <p>The <code>padding</code> and the <code>digest</code> values must match the values used to generate the using key, otherwise the encryption will fail</p>"},{"location":"services/asymmetric/#decrypt","title":"Decrypt","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to decrypt\n    val dataToDecrypt = \"...some encrypted data...\"\n\n    // decrypt the data \n    val decryptedData = KassaforteAsymmetricService.decrypt(\n        alias = \"toIdentifyTheKey\",\n        padding = EncryptionPadding.RSA_OAEP,\n        digest = Digest.SHA256,\n        data = dataToEncrypt\n    )\n\n    println(decryptedData) // PLAINTEXT\n}\n</code></pre> <p>Info</p> <p>The <code>padding</code> and the <code>digest</code> values must match the values used to generate the using key, otherwise the decryption will fail</p>"},{"location":"services/asymmetric/#sign","title":"Sign","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to sign\n    val message = \"My message\"\n\n    // sign the message \n    val signedMessage = KassaforteAsymmetricService.sign(\n        alias = \"toIdentifyTheKey\",\n        digest = Digest.SHA256,\n        message = message\n    )\n\n    println(signedMessage)\n}\n</code></pre>"},{"location":"services/asymmetric/#verify","title":"Verify","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to verify\n    val messageToVerify = \"My message\"\n\n    // signature\n    val signedMessage = \"...signed message..\"\n\n    // verify the data \n    val result = KassaforteSymmetricService.verify(\n        alias = \"toIdentifyTheKey\",\n        digest = Digest.SHA256,\n        message = messageToVerify,\n        signature = signedMessage\n    )\n\n    println(result) // true or false\n}\n</code></pre>"},{"location":"services/asymmetric/#delete-a-key","title":"Delete a key","text":"<pre><code>KassaforteAsymmetricService.deleteKey(\n    alias = \"toIdentifyTheKey\"\n)\n</code></pre> <p>The key or the key pair will be removed from the secure storage and will not more available to be used</p>"},{"location":"services/symmetric/aes/","title":"AES","text":""},{"location":"services/symmetric/aes/#generate-new-key","title":"Generate new key","text":""},{"location":"services/symmetric/aes/#creating-gen-spec","title":"Creating Gen Spec","text":"<p>Following the below compatibility table you can create a new <code>AES</code> key:</p> Block mode Key size Encryption padding <code>CBC</code> <code>S128</code>, <code>S192</code>, <code>S256</code> <code>PKCS7</code> <code>CTR</code> <code>S128</code>, <code>S192</code>, <code>S256</code> <code>NONE</code> <code>GCM</code> <code>S128</code>, <code>S192</code>, <code>S256</code> <code>NONE</code> <pre><code>val keyGenSpec = SymmetricKeyGenSpec(\n    blockMode = BlockMode.GCM,\n    keySize = S128,\n    encryptionPadding = EncryptionPadding.NONE\n)\n</code></pre>"},{"location":"services/symmetric/aes/#declaring-the-purposes-of-the-key","title":"Declaring the purposes of the key","text":"<p>The generating key will be used just for the specified purposes, when a purpose had not been assigned will be thrown an exception</p> <pre><code>val purposes = KeyPurposes(\n    canEncrypt = true,\n    canDecrypt = true\n)\n</code></pre>"},{"location":"services/symmetric/aes/#generate-the-key","title":"Generate the key","text":"<pre><code>KassaforteSymmetricService.generateKey(\n    alias = \"toIdentifyTheKey\",\n    algorithm = Algorithm.AES,\n    keyGenSpec = keyGenSpec,\n    purposes = purposes\n)\n</code></pre> <p>The generated key will be automatically securely stored by the library</p>"},{"location":"services/symmetric/aes/#use-the-key","title":"Use the key","text":"<p>The methods which use the key must be executed inside a <code>Coroutine</code></p>"},{"location":"services/symmetric/aes/#encrypt","title":"Encrypt","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to encrypt\n    val dataToEncrypt = \"PLAINTEXT\"\n\n    // encrypt the data \n    val encryptedData = KassaforteSymmetricService.encrypt(\n        alias = \"toIdentifyTheKey\",\n        blockMode = BlockMode.GCM,\n        padding = EncryptionPadding.NONE,\n        data = encryptedData\n    )\n\n    println(encryptedData)\n}\n</code></pre> <p>Info</p> <p>The <code>blockMode</code> and the <code>padding</code> values must match the values used to generate the using key, otherwise the encryption will fail</p>"},{"location":"services/symmetric/aes/#decrypt","title":"Decrypt","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to decrypt\n    val dataToDecrypt = \"...some encrypted data...\"\n\n    // decrypt the data \n    val decryptedData = KassaforteSymmetricService.decrypt(\n        alias = \"toIdentifyTheKey\",\n        blockMode = BlockMode.GCM,\n        padding = EncryptionPadding.NONE,\n        data = dataToDecrypt\n    )\n\n    println(decryptedData) // PLAINTEXT\n}\n</code></pre> <p>Info</p> <p>The <code>blockMode</code> and the <code>padding</code> values must match the values used to generate the using key, otherwise the decryption will fail</p>"},{"location":"services/symmetric/aes/#delete-a-key","title":"Delete a key","text":"<pre><code>KassaforteSymmetricService.deleteKey(\n    alias = \"toIdentifyTheKey\"\n)\n</code></pre> <p>The key will be removed from the secure storage and will not more available to be used</p>"},{"location":"services/symmetric/hmac/","title":"HMAC","text":""},{"location":"services/symmetric/hmac/#generate-new-key","title":"Generate new key","text":""},{"location":"services/symmetric/hmac/#creating-gen-spec","title":"Creating Gen Spec","text":"<p>Following the below compatibility table you can create a new <code>HMAC</code> key:</p> Digest Key size <code>SHA1</code> <code>S192</code> <code>SHA256</code> <code>S256</code> <code>SHA384</code> <code>S384</code> <code>SHA512</code> <code>S512</code>, <code>S1024</code> <p>Note</p> <p>The key sizes listed are suggested for use with the indicated SHA values, but this depends on your implementation,  as there are no strict requirements for the key size in <code>HMAC</code></p> <pre><code>val keyGenSpec = SymmetricKeyGenSpec(\n    keySize = S256\n)\n</code></pre>"},{"location":"services/symmetric/hmac/#declaring-the-purposes-of-the-key","title":"Declaring the purposes of the key","text":"<p>The generating key will be used just for the specified purposes, when a purpose had not been assigned will be thrown an exception</p> <pre><code>val purposes = KeyPurposes(\n    canSign = true,\n    canVerify = true\n)\n</code></pre>"},{"location":"services/symmetric/hmac/#generate-the-key","title":"Generate the key","text":"<pre><code>KassaforteSymmetricService.generateKey(\n    alias = \"toIdentifyTheKey\",\n    algorithm = Algorithm.HMAC_SHA256,\n    keyGenSpec = keyGenSpec,\n    purposes = purposes\n)\n</code></pre> <p>The generated key will be automatically securely stored by the library</p>"},{"location":"services/symmetric/hmac/#use-the-key","title":"Use the key","text":"<p>The methods which use the key must be executed inside a <code>Coroutine</code></p>"},{"location":"services/symmetric/hmac/#sign","title":"Sign","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to sign\n    val message = \"My message\"\n\n    // sign the message \n    val signedMessage = KassaforteSymmetricService.sign(\n        alias = \"toIdentifyTheKey\",\n        message = data\n    )\n\n    println(signedMessage)\n}\n</code></pre>"},{"location":"services/symmetric/hmac/#verify","title":"Verify","text":"<pre><code>val scope = MainScope()\nscope.launch {\n    // data to verify\n    val messageToVerify = \"My message\"\n\n    // signature\n    val signedMessage = \"...signed message..\"\n\n    // verify the data \n    val result = KassaforteSymmetricService.verify(\n        alias = \"toIdentifyTheKey\",\n        message = messageToVerify,\n        signature = signedMessage\n    )\n\n    println(result) // true or false\n}\n</code></pre>"},{"location":"services/symmetric/hmac/#delete-a-key","title":"Delete a key","text":"<pre><code>KassaforteSymmetricService.deleteKey(\n    alias = \"toIdentifyTheKey\"\n)\n</code></pre> <p>The key will be removed from the secure storage and will not more available to be used</p>"},{"location":"services/symmetric/symmetric/","title":"Symmetric Service","text":""},{"location":"services/symmetric/symmetric/#supported-algorithms","title":"Supported algorithms","text":""},{"location":"services/symmetric/symmetric/#aes","title":"AES","text":"<p>Algorithm used to <code>encrypt</code> and <code>decrypt</code> data the following block modes:</p> <ul> <li><code>CBC</code> - Cipher Block Chaining  where each block of plaintext is XORed with the previous ciphertext block before   being encrypted. Requires an initialization vector (IV) of the block size</li> <li><code>CTR</code> - Counter mode turns a block cipher into a stream cipher by encrypting successive values of a counter and   XORing them with the plaintext. Provides parallelizable encryption and decryption</li> <li><code>GCM</code> - Galois/Counter Mode it is based on <code>CTR</code> mode for encryption, but also provides authentication (AEAD)   using Galois field multiplication.   Requires a nonce, typically 12 bytes for efficiency (on Apple at the moment is not supported)</li> </ul>"},{"location":"services/symmetric/symmetric/#hmac","title":"HMAC","text":"<p>Algorithm used to <code>sign</code> and <code>verify</code> messages with the following digests:</p> <ul> <li><code>SHA1</code></li> <li><code>SHA256</code></li> <li><code>SHA384</code></li> <li><code>SHA512</code></li> </ul>"},{"location":"services/symmetric/symmetric/#architecture","title":"Architecture","text":""},{"location":"services/symmetric/symmetric/#android","title":"Android","text":"<p>The keys are generated with the KeyGenerator API and securely stored inside the Keystore provided by Android. The keys are used by the Cipher to encrypt or decrypt the data</p>"},{"location":"services/symmetric/symmetric/#apple","title":"Apple","text":"<p>The keys are generated with the SecRandomCopyBytes API and securely stored inside the Keychain provided by iOS and macOS operating systems. The keys are used by korlibs-crypto library to encrypt or decrypt the data</p>"},{"location":"services/symmetric/symmetric/#jvm","title":"JVM","text":"<p>Like on <code>Android</code> the keys are generated with the KeyGenerator API, but the keys are securely stored using the java-keyring library. The keys are used by the Cipher to encrypt or decrypt the data</p>"},{"location":"services/symmetric/symmetric/#web","title":"Web","text":"<p>The keys are generated with the SubtleCrypto API and securely stored into application's IndexedDB. The keys are used by the <code>SubtleCrypto</code> to encrypt or decrypt the data</p>"}]}